<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paediatric Rashes: An EM Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        .dark ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
        .modal { transition: opacity 0.3s ease, transform 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .clinical-pearl { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; margin: 1rem 0; }
        .dark .clinical-pearl { background: #451a03; border-left-color: #fbbf24; }
        img { background: #f1f5f9; }
        .dark img { background: #1e293b; }
    </style>
</head>
<body class="bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200">
    <div id="app" class="min-h-screen flex flex-col">
        <header class="bg-white dark:bg-slate-800/50 shadow-md sticky top-0 z-40">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <i data-lucide="activity" class="h-6 w-6 text-white"></i>
                    </div>
                    <h1 class="text-xl md:text-2xl font-bold">Paediatric Rashes</h1>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
                    <i data-lucide="sun" class="h-5 w-5 block dark:hidden"></i>
                    <i data-lucide="moon" class="h-5 w-5 hidden dark:block"></i>
                </button>
            </div>
            <div class="container mx-auto px-4 pb-4">
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Search rashes..." class="w-full pl-10 pr-4 py-2 border dark:border-slate-600 bg-slate-50 dark:bg-slate-700 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none">
                    <i data-lucide="search" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
                </div>
            </div>
        </header>

        <main class="flex-grow container mx-auto px-4 py-8">
            <section id="emergency-rashes" class="mb-12">
                <h2 class="text-2xl font-bold mb-1 border-b-2 border-red-500 pb-2 flex items-center">
                    <i data-lucide="alert-triangle" class="h-6 w-6 mr-3 text-red-500"></i>
                    Emergency Rashes
                </h2>
                <p class="text-slate-600 dark:text-slate-400 mb-6">Immediate action required</p>
                <div id="emergency-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </section>

            <section id="named-rashes" class="mb-12">
                <h2 class="text-2xl font-bold mb-1 border-b-2 border-sky-500 pb-2 flex items-center">
                    <i data-lucide="book-marked" class="h-6 w-6 mr-3 text-sky-500"></i>
                    Common Named Rashes
                </h2>
                <p class="text-slate-600 dark:text-slate-400 mb-6">Generally benign conditions</p>
                <div id="named-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </section>
            
            <section id="other-rashes">
                <h2 class="text-2xl font-bold mb-1 border-b-2 border-teal-500 pb-2 flex items-center">
                    <i data-lucide="puzzle" class="h-6 w-6 mr-3 text-teal-500"></i>
                    Other Common Rashes
                </h2>
                <p class="text-slate-600 dark:text-slate-400 mb-6">Non-specific presentations</p>
                <div id="other-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </section>
        </main>

        <footer class="bg-white dark:bg-slate-800/50 mt-12 py-6">
            <div class="container mx-auto px-4 text-center text-sm text-slate-500 dark:text-slate-400">
                <p>Educational reference only. Use clinical judgement and local guidelines.</p>
                <p>&copy; 2025 WMEBEM. Images: DermNet NZ</p>
            </div>
        </footer>
    </div>

    <div id="modal" class="fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col transform scale-95">
            <div class="flex justify-between items-center p-4 border-b dark:border-slate-700">
                <h3 id="modal-title" class="text-2xl font-bold"></h3>
                <button id="modal-close" class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
            </div>
            <div id="modal-body" class="p-6 overflow-y-auto"></div>
        </div>
    </div>

    <script>
        // Wait for Lucide to load
        function initApp() {
            if (typeof lucide === 'undefined') {
                setTimeout(initApp, 50);
                return;
            }
            startApp();
        }
        
        function startApp() {
        const data = [
            {id:1,name:"Meningococcal Septicaemia",cat:"emergency",tags:["non-blanching","petechial","sepsis"],img:"https://dermnetnz.org/assets/Uploads/meningococcal-meningitis-13__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-4367607-5746925.jpg",sum:"Time-critical bacterial infection. MEDICAL EMERGENCY.",det:`<div class="clinical-pearl"><strong>Pearl:</strong> Check palms/soles in darker skin.</div><h4 class="font-semibold text-lg mb-2 text-red-500">Clinical Features</h4><ul class="list-disc list-inside space-y-1"><li>Non-blanching petechial/purpuric rash</li><li>Rapid progression</li><li>Signs of shock</li></ul><h4 class="font-semibold text-lg mb-2 mt-4 text-red-500">ED Management</h4><ul class="list-disc list-inside space-y-1"><li><strong>Cefotaxime 100mg/kg IV stat</strong></li><li>Add Amoxicillin if &lt;3 months</li><li>Fluid resuscitation 20ml/kg</li><li>Early PICU involvement</li></ul>`},
            {id:2,name:"SJS/TEN",cat:"emergency",tags:["stevens-johnson","blistering","mucosal"],img:"https://dermnetnz.org/assets/Uploads/stevens-johnson-syndrome-04__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-5097094-7685458.jpg",sum:"Severe mucocutaneous reaction.",det:`<div class="clinical-pearl"><strong>Pearl:</strong> Mucosal involvement distinguishes from SSSS.</div><h4 class="font-semibold text-lg mb-2 text-red-500">Classification</h4><ul class="list-disc list-inside"><li>SJS: &lt;10% BSA</li><li>TEN: &gt;30% BSA</li></ul><h4 class="font-semibold text-lg mb-2 mt-4 text-red-500">Management</h4><ul class="list-disc list-inside"><li>Withdraw causative agent</li><li>Urgent ophthalmology review</li><li>Burn unit referral</li></ul>`},
            {id:3,name:"Eczema Herpeticum",cat:"emergency",tags:["herpes","vesicular","eczema"],img:"https://dermnetnz.org/assets/Uploads/eczema-herpeticum-03__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-1851092-4297053.jpg",sum:"Disseminated HSV in atopic eczema.",det:`<div class="clinical-pearl"><strong>Pearl:</strong> High suspicion in eczema + acute vesicles.</div><h4 class="font-semibold text-lg mb-2 text-red-500">Features</h4><ul class="list-disc list-inside"><li>Punched-out ulcers</li><li>Umbilicated vesicles</li><li>Systemic symptoms</li></ul><h4 class="font-semibold text-lg mb-2 mt-4 text-red-500">Management</h4><ul class="list-disc list-inside"><li>Immediate IV aciclovir</li><li>Ophthalmology if periorbital</li></ul>`},
            {id:4,name:"Kawasaki Disease",cat:"emergency",tags:["fever","vasculitis","strawberry tongue"],img:"https://dermnetnz.org/assets/Uploads/kawasaki-disease-02__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-8629889-2941886.jpg",sum:"Systemic vasculitis - leading cause acquired heart disease in children.",det:`<div class="clinical-pearl"><strong>CRASH:</strong> Conjunctivitis, Rash, Adenopathy, Strawberry tongue, Hand/foot changes</div><h4 class="font-semibold text-lg mb-2 text-amber-500">Criteria</h4><p>Fever ≥5 days + ≥4 of CRASH features</p><h4 class="font-semibold text-lg mb-2 mt-4 text-amber-500">Management</h4><ul class="list-disc list-inside"><li><strong>IVIG 2g/kg within 10 days</strong></li><li>High-dose aspirin</li><li>Echo + cardiology referral</li></ul>`},
            {id:5,name:"SSSS",cat:"emergency",tags:["staphylococcal","peeling"],img:"https://dermnetnz.org/assets/Uploads/staphylococcal-scalded-skin-syndrome-04__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-5656267-4078166.jpg",sum:"Staph toxin-mediated exfoliation.",det:`<div class="clinical-pearl"><strong>Key:</strong> Mucous membranes SPARED (vs SJS/TEN)</div><h4 class="font-semibold text-lg mb-2 text-red-500">Features</h4><ul class="list-disc list-inside"><li>Widespread erythema + peeling</li><li>Nikolsky sign positive</li></ul><h4 class="font-semibold text-lg mb-2 mt-4 text-red-500">Management</h4><ul class="list-disc list-inside"><li>IV Flucloxacillin</li><li>Supportive care</li></ul>`},
            {id:6,name:"Scarlet Fever",cat:"named",tags:["sandpaper","strep"],img:"https://dermnetnz.org/assets/Uploads/scarlet-fever-03__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-2886743-3914894.jpg",sum:"GAS toxin-mediated rash.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Sandpaper-textured rash</li><li>Pastia's lines</li><li>Circumoral pallor</li><li>Strawberry tongue</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Penicillin V 10 days</li><li>School 24hrs after antibiotics</li></ul>`},
            {id:7,name:"Hand, Foot & Mouth",cat:"named",tags:["coxsackie","vesicles"],img:"https://dermnetnz.org/assets/Uploads/hand-foot-and-mouth-disease-05__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-3564754-1289931.jpg",sum:"Viral illness with oral ulcers + palm/sole vesicles.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Vesicles on palms/soles</li><li>Painful oral ulcers</li><li>Self-limiting 7-10 days</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Supportive care</li><li>Monitor hydration</li></ul>`},
            {id:8,name:"Fifth Disease",cat:"named",tags:["slapped cheek","parvovirus"],img:"https://dermnetnz.org/assets/Uploads/erythema-infectiosum-02__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-7473831-3892994.jpg",sum:"Parvovirus B19 - slapped cheek appearance.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Slapped cheek + perioral sparing</li><li>Lacy rash on limbs</li><li>Not contagious once rash appears</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Supportive</li><li>Warn pregnant contacts</li></ul>`},
            {id:9,name:"Chickenpox",cat:"named",tags:["varicella","vzv","itchy"],img:"https://dermnetnz.org/assets/Uploads/chickenpox-01__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-6835899-9686095.jpg",sum:"VZV with intensely pruritic vesicular rash.",det:`<div class="clinical-pearl"><strong>Important:</strong> AVOID NSAIDs - paracetamol only</div><h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Lesions in crops (all stages)</li><li>Centripetal distribution</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Paracetamol, calamine</li><li>Exclude until crusted</li></ul>`},
            {id:10,name:"HSP (IgA Vasculitis)",cat:"named",tags:["purpura","vasculitis"],img:"https://dermnetnz.org/assets/Uploads/henoch-schonlein-purpura-02__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingildfd-1978854-7535598.jpg",sum:"Most common childhood vasculitis.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Palpable purpura on legs/buttocks</li><li>Arthralgia, abdominal pain</li><li>Renal involvement possible</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Urinalysis + BP mandatory</li><li>Supportive care</li><li>GP follow-up</li></ul>`},
            {id:11,name:"Urticaria",cat:"other",tags:["hives","wheals"],img:"https://dermnetnz.org/assets/Uploads/urticaria-03__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-4916584-6476947.jpg",sum:"Transient itchy wheals.",det:`<div class="clinical-pearl"><strong>Priority:</strong> Exclude anaphylaxis</div><h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Wheals &lt;24hrs</li><li>Central pallor</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Non-sedating antihistamine</li><li>Safety-net for anaphylaxis</li></ul>`},
            {id:12,name:"Impetigo",cat:"other",tags:["bacterial","honey-crusted"],img:"https://dermnetnz.org/assets/Uploads/impetigo-03__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-7949271-8652314.jpg",sum:"Bacterial skin infection.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Honey-coloured crusts</li><li>Highly contagious</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Topical/oral antibiotics</li><li>Exclude 48hrs after starting Rx</li></ul>`},
            {id:13,name:"Viral Exanthem",cat:"other",tags:["viral","benign"],img:"https://dermnetnz.org/assets/Uploads/viral-exanthem-03__protectwyjqcm90zwn0il0_focusfillwzi5ncwymjisingilde5xq-4397182-9518644.jpg",sum:"Most common diagnosis - benign viral rash.",det:`<h4 class="font-semibold text-lg mb-2">Features</h4><ul class="list-disc list-inside"><li>Maculopapular rash</li><li>Associated viral symptoms</li><li>Child well-appearing</li></ul><h4 class="font-semibold text-lg mb-2 mt-4">Management</h4><ul class="list-disc list-inside"><li>Diagnosis of exclusion</li><li>Supportive care</li><li>Robust safety-netting</li></ul>`}
        ];

        const app = {
            init() {
                this.render();
                this.attachEvents();
                lucide.createIcons();
            },
            render(filter='') {
                const grids = {emergency:document.getElementById('emergency-grid'),named:document.getElementById('named-grid'),other:document.getElementById('other-grid')};
                Object.values(grids).forEach(g=>g.innerHTML='');
                
                data.filter(r=>!filter||r.name.toLowerCase().includes(filter)||r.tags.some(t=>t.includes(filter))).forEach(r=>{
                    const card = document.createElement('div');
                    card.className='bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden hover:-translate-y-1 transition cursor-pointer';
                    card.innerHTML=`<img src="${r.img}" alt="${r.name}" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/94a3b8/fff?text=${r.name}'"><div class="p-4 border-t-4 ${r.cat==='emergency'?'border-red-500':r.cat==='named'?'border-sky-500':'border-teal-500'}"><h3 class="font-bold text-lg">${r.name}</h3><p class="text-sm text-slate-600 dark:text-slate-400 mt-1">${r.sum}</p></div>`;
                    card.onclick=()=>this.openModal(r);
                    grids[r.cat].appendChild(card);
                });
                lucide.createIcons();
            },
            openModal(r) {
                document.getElementById('modal-title').textContent=r.name;
                document.getElementById('modal-body').innerHTML=`<img src="${r.img}" alt="${r.name}" class="w-full h-64 object-cover rounded-lg mb-4" onerror="this.src='https://placehold.co/600x400/94a3b8/fff?text=${r.name}'"><div class="space-y-4">${r.det}</div>`;
                const m=document.getElementById('modal');
                m.classList.remove('opacity-0','pointer-events-none');
                m.querySelector('.bg-white').classList.remove('scale-95');
                lucide.createIcons();
            },
            closeModal() {
                const m=document.getElementById('modal');
                m.classList.add('opacity-0');
                m.querySelector('.bg-white').classList.add('scale-95');
                setTimeout(()=>m.classList.add('pointer-events-none'),300);
            },
            attachEvents() {
                document.getElementById('search-input').oninput=e=>this.render(e.target.value.toLowerCase());
                document.getElementById('modal-close').onclick=()=>this.closeModal();
                document.getElementById('modal').onclick=e=>{if(e.target.id==='modal')this.closeModal()};
                document.getElementById('theme-toggle').onclick=()=>{
                    const dark=document.documentElement.classList.toggle('dark');
                    localStorage.setItem('theme',dark?'dark':'light');
                    lucide.createIcons();
                };
                if(localStorage.getItem('theme')==='dark')document.documentElement.classList.add('dark');
            }
        };
        
        app.init();
        }
        
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
